---
apiVersion: v1
kind: Namespace
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "{{ openshift_gitos_operator.namespace.annotations.argocd_sync_wave }}"
    workload.openshift.io/allowed: "{{ openshift_gitos_operator.namespace.annotations.workload_allowed }}"
  name: {{ openshift_gitos_operator.namespace.name }}
  labels:
    openshift.io/cluster-monitoring: "{{ openshift_gitos_operator.namespace.labels.cluster_monitoring }}"
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: {{ openshift_gitos_operator.operator_group.name }}
  namespace: {{ openshift_gitos_operator.namespace.name }}
spec:
  upgradeStrategy: {{ openshift_gitos_operator.operator_group.upgrade_strategy }}
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "{{ openshift_gitos_operator.subscription.annotations.argocd_sync_wave }}"
  name: {{ openshift_gitos_operator.subscription.name }}
  namespace: {{ openshift_gitos_operator.namespace.name }}
spec:
  installPlanApproval: {{ openshift_gitos_operator.subscription.install_plan_approval }}
  name: {{ openshift_gitos_operator.subscription.name }}
  source: {{ catalog_source.name }}
  sourceNamespace: openshift-marketplace